3. 提案ソリューション（改訂版：Wi-Fi + SLAM）3.1. コンセプト：ハードウェア不要のインテリジェント・フュージョン本提案の核心は、**「追加ハードウェアの設置を一切不要」**とし、既存のWi-Fiインフラとスマートフォンの先進的なセンサー（カメラ、IMU）のみを利用する点にあります。これは、BLEビーコン方式が抱える設置・メンテナンスコストとスケーラビリティの問題を根本的に解決するアプローチです。Wi-Fiフィンガープリンティング（土台）: どの施設にも存在するWi-Fiアクセスポイントを「灯台」として利用し、約3m精度の「最初の青い点」を即座に提供します。Visual-Inertial SLAM（精密な動き）: スマートフォンのカメラとモーションセンサーを「目と三半規管」として利用し、ユーザーの一歩一歩の動きをcm級の精度で追跡します。インテリジェント・フュージョン（統合）: Wi-Fiによる大まかな絶対位置と、SLAMによる精密な相対移動を独自のアルゴリズムで統合。Wi-FiがSLAMの累積誤差（ドリフト）を定期的に補正し、最終的に1m精度の安定した測位を実現します。3.2. 技術アーキテクチャ本システムは、以下の3つのソフトウェアモジュールで構成されます。3.2.1. Wi-Fi電波マップ生成モジュール役割: 施設内のWi-Fi電波の強度分布図（フィンガープリントマップ）を作成・管理します。プロセス:サーベイ（現地調査）: 専用の調査アプリを使い、施設内を歩きながら各地点の座標と、その場所で受信できるWi-Fiの電波強度(RSSI)を記録します。マップ構築: 収集した大量のデータをサーバー上で解析し、高精度な電波マップを自動生成します。Hyper社のアプローチと同様に、将来的には施設スタッフ自身が調査を行える「セルフサーベイ機能」を目指します。3.2.2. 高精度モーショントラッキングモジュール (VI-SLAM)役割: ユーザーの精密な移動軌跡をリアルタイムに計算します。プロセス:特徴点追跡: カメラ映像から壁の模様やポスターといった特徴的な点を抽出し、フレーム間の動きを追跡します。慣性情報: IMU（加速度計・ジャイロ）から得られる情報で、カメラだけでは捉えきれない素早い動きや回転を補足します。自己位置と地図の同時生成: 上記2つの情報を統合し、ユーザーの相対的な移動ベクトルと、周囲の簡易的な3Dマップを同時に生成します。3.2.3. センサーフュージョンモジュール (拡張カルマンフィルタ)役割: 上記2つのモジュールからの情報を統合し、最終的な高精度位置（1m精度）を算出する本システムの頭脳です。プロセス:状態予測: SLAMが算出した移動ベクトルに基づき、次のユーザー位置を予測します。観測更新: Wi-Fiモジュールから数秒に一度得られる絶対位置を観測値として取り込みます。誤差補正: **拡張カルマンフィルタ（EKF）**アルゴリズムを用い、SLAMの予測値とWi-Fiの観測値を比較。SLAMのドリフト誤差をWi-Fiの位置情報で補正し、最も確からしい位置を最終的な出力とします。4. 開発計画（改訂版：Wi-Fi + SLAM）4.1. プロジェクトタイムライン概要フェーズ期間主な目標フェーズ1：コア技術PoC1〜4ヶ月目Wi-Fi測位とSLAM、各技術の単体性能を検証フェーズ2：プロトタイプ開発5〜8ヶ月目技術を統合し、動作するプロトタイプを完成させるフェーズ3：実証実験と最適化9〜10ヶ月目実環境でテストし、精度と安定性を目標値まで高める4.2. フェーズ1：コア技術PoC (Proof of Concept)期間: 4ヶ月目標: Wi-FiフィンガープリンティングとVI-SLAM、それぞれのコア技術が単体で機能し、基本性能を満たすことを検証する。主要タスク:Wi-Fiサーベイツール開発: フィンガープリントを効率的に収集するためのAndroidアプリを開発。電波マップ構築サーバー実装: 収集したデータを処理し、電波マップを生成するバックエンドを構築。Wi-Fi測位モジュールの精度検証: テスト環境で電波マップを作成し、単体での測位精度を評価（目標精度：5m以内）。VI-SLAMモジュール検証: オープンソース（例: ORB-SLAM3）をAndroidプラットフォームに導入し、モーショントラッキングの動作を確認。成果物:Wi-Fiサーベイツール（apkファイル）。Wi-Fi測位モジュールの単体性能評価レポート。VI-SLAMによるモーショントラッキングの動作デモ動画。4.3. フェーズ2：プロトタイプ開発とセンサーフュージョン期間: 4ヶ月目標: フェーズ1で開発した2つのモジュールを統合し、地図上で自己位置をリアルタイムに表示するアンドロイドアプリのプロトタイプを完成させる。主要タスク:センサーフュージョンアルゴリズム設計・実装: 拡張カルマンフィルタ（EKF）の理論に基づき、Wi-FiとSLAMのデータを統合するロジックを実装。プロトタイプアプリ開発: 屋内地図を表示し、各モジュールと連携して測位結果を「青い点」として描画するアプリを開発。初期統合テスト: テスト環境にて、プロトタイプの動作安定性と測位精度を評価。成果物:動作するAndroidプロトタイプアプリケーション（apkファイル）。センサーフュージョンアルゴリズムの技術仕様書。初期統合テストにおける性能評価レポート（目標RMSE: 1.5m以内）。4.4. フェーズ3：実証実験と最適化期間: 2ヶ月目標: 実際の店舗やオフィスといった実環境でシステムの有効性を証明し、最終的な目標精度（1m）を達成するための最適化を行う。主要タスク:実証実験の実施: 協力施設にて、プロトタイプを用いた長時間の測位テストを実施。精度・パフォーマンスの最適化: 実環境データに基づき、アルゴリズムの各種パラメータをチューニング。UI/UXの改善: 実証実験のフィードバックに基づき、ユーザーインターフェースを改善。成果物:最終版アプリケーション。実証実験における最終性能評価レポート（最終目標RMSE: 1.0m以内）。導入・運用マニュアル（ドラフト版）。